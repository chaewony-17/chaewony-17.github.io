---
layout: default
title: Home
permalink: /
---

<section class="section home-hero">
  <h2 class="section-title">
    <span class="fa-stack fa-xs">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-user fa-stack-1x fa-inverse"></i>
    </span>
    Hello, I'm Chaewon :)
  </h2>
  
    <div class="summary">
    I am a Master’s student in the Department of Architectural Engineering at Seoul National University, advised by Prof. Changbum R. Ahn. <br>
    My research focuses on construction robotics, robot navigation, and machine learning to enhance safety and efficiency in complex construction environments.<br>
    I am particularly interested in Deep Reinforcement Learning (DRL), perception-aware navigation, and Vision-Language Models (VLMs) to advance intelligent robotic monitoring in construction sites.
    </div><!--//summary-->
  </p>
</section>

<section class="section travel-map-section">
  <h2 class="section-title">
    <span class="fa-stack fa-xs">
      <i class="fas fa-circle fa-stack-2x"></i>
      <i class="fas fa-map-marker-alt fa-stack-1x fa-inverse"></i>
    </span>
    Where I've Been
  </h2>

  <div id="travel-map" class="travel-map d-print-none" role="region" aria-label="Travel Map"></div>

  <!-- Image gallery modal -->
  <div id="gallery-modal" class="gallery-modal d-print-none" aria-hidden="true">
    <div class="gallery-content">
      <button class="gallery-close" aria-label="Close">&times;</button>
      <h3 id="gallery-title" class="job-title" style="margin-top:0;"></h3>
      <div id="gallery-grid" class="gallery-grid"></div>
    </div>
  </div>
</section>

<!-- amCharts 5 (Core + Maps + world geodata + theme) -->
<script src="https://cdn.amcharts.com/lib/5/index.js"></script>
<script src="https://cdn.amcharts.com/lib/5/map.js"></script>
<script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
<script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>

<script>
  // 데이터 주입
  const travelData = {{ site.data.travel  | jsonify | default: '[]' }};
  const visited    = {{ site.data.visited | jsonify | default: '[]' }};

  am5.ready(function () {
    const root = am5.Root.new("travel-map");
    root.setThemes([am5themes_Animated.new(root)]);

    const chart = root.container.children.push(
      am5map.MapChart.new(root, {
        projection: am5map.geoNaturalEarth1(),
        panX: "translateX",
        panY: "translateY",
        wheelY: "zoom",
        minZoomLevel: 0.9,
        maxZoomLevel: 20
      })
    );

    // 1) 바탕(회색)
    const baseSeries = chart.series.push(
      am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow,
        exclude: ["AQ"]
      })
    );
    baseSeries.mapPolygons.template.setAll({
      fill: am5.color(0xE9F0F3),
      stroke: am5.color(0xC8D6DC),
      strokeWidth: 0.5,
      tooltipText: "{name}"
    });

    // 2) 방문국가(나라별 색)
    const visitedCodes = (visited || []).map(v => v.code);
    const visitedSeries = chart.series.push(
      am5map.MapPolygonSeries.new(root, {
        geoJSON: am5geodata_worldLow,
        include: visitedCodes
      })
    );
    visitedSeries.mapPolygons.template.setAll({
      fill: am5.color(0x0E7C86),       // 기본값(해당 국가에 color 없을 때)
      stroke: am5.color(0xffffff),
      strokeWidth: 0.8,
      tooltipText: "{name}",
      opacity: 0.95
    });
    // 국가별 색 적용 (visited.yml의 color가 우선)
    visitedSeries.mapPolygons.template.adapters.add("fill", (current, target) => {
      const iso2 = target.dataItem?.dataContext?.id;      // ISO-2 코드
      const v = (visited || []).find(x => x.code === iso2);
      if (v && v.color) return am5.color(v.color);
      return current;
    });

    // 3) 핀(도시)
    const pointSeries = chart.series.push(
      am5map.MapPointSeries.new(root, {
        latitudeField: "lat",
        longitudeField: "lng",
        valueField: "value"
      })
    );
    pointSeries.bullets.push((root, _series, dataItem) => {
      const circle = am5.Circle.new(root, {
        radius: 6,
        fill: am5.color(0xffffff),
        stroke: am5.color(0x0E7C86),
        strokeWidth: 2,
        tooltipText: "{name}"
      });
      circle.events.on("click", () => openGallery(dataItem.dataContext));
      return am5.Bullet.new(root, { sprite: circle });
    });
    pointSeries.data.setAll(travelData || []);

    // 4) 초기 뷰
    if ((travelData || []).length) {
      chart.zoomToGeoPoint({ latitude: 20, longitude: 0 }, 1.5, true, 500);
    }

    // ===== 갤러리 모달(기존) =====
    const modal = document.getElementById('gallery-modal');
    const titleEl = document.getElementById('gallery-title');
    const gridEl  = document.getElementById('gallery-grid');
    const closeBtn= document.querySelector('.gallery-close');

    function openGallery(loc) {
      titleEl.textContent = loc.name || 'My Trip';
      gridEl.innerHTML = '';
      const imgs = loc.images || [];
      if (!imgs.length) { gridEl.innerHTML = '<p>No photos yet. (Coming soon!)</p>'; }
      else {
        imgs.forEach((src) => {
          const a = document.createElement('a'); a.href = src; a.target = '_blank'; a.className = 'gallery-item';
          const img = document.createElement('img'); img.src = src; img.alt = (loc.name || 'Trip') + ' photo';
          a.appendChild(img); gridEl.appendChild(a);
        });
      }
      modal.setAttribute('aria-hidden', 'false');
      modal.classList.add('open');
    }
    function closeGallery(){ modal.setAttribute('aria-hidden','true'); modal.classList.remove('open'); }
    closeBtn.addEventListener('click', closeGallery);
    modal.addEventListener('click', (e) => { if (e.target === modal) closeGallery(); });
  });
</script>


<style>
  .home-hero { margin-bottom: 1.25rem; }
  .home-title { font-size: 2rem; margin: .25rem 0 .5rem; }
  .home-tagline { font-size: 1.05rem; line-height: 1.55; }
  .travel-map { width: 100%; height: 520px; border-radius: 12px; overflow: hidden; border: 1px solid #eaeaea; }

  /* 갤러리 모달 */
  .gallery-modal {
    position: fixed; inset: 0; background: rgba(0,0,0,.5);
    display: none; align-items: center; justify-content: center;
    padding: 2rem; z-index: 9999;
  }
  .gallery-modal.open { display: flex; }
  .gallery-content {
    background: #fff; max-width: 1000px; width: 100%;
    border-radius: 12px; padding: 1.25rem 1.25rem 1rem; position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,.15);
  }
  .gallery-close {
    position: absolute; top: .5rem; right: .75rem;
    border: 0; background: transparent; font-size: 2rem; line-height: 1; cursor: pointer;
  }
  .gallery-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: .75rem; margin-top: .5rem;
  }
  .gallery-item { display: block; border-radius: 8px; overflow: hidden; border: 1px solid #eee; }
  .gallery-item img { width: 100%; height: 100%; object-fit: cover; display: block; }
</style>